{"ast":null,"code":"var _jsxFileName = \"C:\\\\GateManagment\\\\frontend\\\\src\\\\components\\\\HomeForm\\\\HomeForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { GateUserInput, SearchableInput, AgreeToTerms } from '../GateUserInput';\nimport './HomeForm.css';\nimport api from '../../api/api';\nimport AppointmentSuccessPop from '../AppointmentSuccessPopUp/AppointmentSuccessPop';\nimport ErrorPopUp from '../ErrorPopUp/ErrorPopUp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomeForm() {\n  _s();\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [userEmail, setUserEmail] = useState('');\n  const [userVisitPerson, setUserVisit] = useState('');\n  const [userVisitPersonId, setUserVisitId] = useState('');\n  const [visitReason, setUserVisitReason] = useState('');\n  const [searchWorker, setSearchWork] = useState([]);\n  const [termsSignatureName, setTermsSignature] = useState('');\n  const [successAppointment, setSuccessAppointment] = useState(false);\n  const [error, setError] = useState(null);\n  const handleSubmit = event => {\n    event.preventDefault();\n    const data = {\n      first_name: firstName,\n      last_name: lastName,\n      user_email: userEmail,\n      to_visit_id: userVisitPersonId,\n      reason_for_visit: visitReason,\n      terms_signature_name: termsSignatureName\n    };\n    api.post('/visitor_appointments/', data).then(response => {\n      console.log();\n      if ((response === null || response === void 0 ? void 0 : response.status) === 201) {\n        setFirstName('');\n        setLastName('');\n        setUserEmail('');\n        setUserVisit('');\n        setUserVisitReason('');\n        setTermsSignature('');\n        setSuccessAppointment(true);\n      }\n    }).catch(err => {\n      setError(err.request.response);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"appointmentContainer\",\n    children: [error && /*#__PURE__*/_jsxDEV(ErrorPopUp, {\n      message: error,\n      setError: setError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"appointmentForm\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"appointmentHeader\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Appointment Registration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GateUserInput, {\n        label: \"First Name\",\n        type: \"text\",\n        name: \"firstName\",\n        placeholder: \"John\",\n        value: firstName,\n        setValue: setFirstName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GateUserInput, {\n        label: \"Last Name\",\n        type: \"text\",\n        name: \"lastName\",\n        placeholder: \"Duke\",\n        value: lastName,\n        setValue: setLastName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GateUserInput, {\n        label: \"Your Email\",\n        type: \"email\",\n        name: \"lastName\",\n        placeholder: \"johnduke@gmail.com\",\n        value: userEmail,\n        setValue: setUserEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchableInput, {\n        userVisitPerson: userVisitPerson,\n        setUserVisit: setUserVisit,\n        setUserVisitId: setUserVisitId,\n        options: searchWorker,\n        setSearchWork: setSearchWork\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GateUserInput, {\n        label: \"Reason for visit\",\n        type: \"text\",\n        name: \"reasonForVisit\",\n        placeholder: \"\",\n        value: visitReason,\n        setValue: setUserVisitReason\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgreeToTerms, {\n        termsSignatureName: termsSignatureName,\n        setTermsSignature: setTermsSignature\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"formSubmitButton\",\n        type: \"submit\",\n        value: \"Sent Appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), successAppointment && /*#__PURE__*/_jsxDEV(AppointmentSuccessPop, {\n      setSuccessAppointment: setSuccessAppointment\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeForm, \"OUlUhxd7ijF8GVOTLuUtflp5I70=\");\n_c = HomeForm;\nvar _c;\n$RefreshReg$(_c, \"HomeForm\");","map":{"version":3,"names":["React","useState","GateUserInput","SearchableInput","AgreeToTerms","api","AppointmentSuccessPop","ErrorPopUp","HomeForm","firstName","setFirstName","lastName","setLastName","userEmail","setUserEmail","userVisitPerson","setUserVisit","userVisitPersonId","setUserVisitId","visitReason","setUserVisitReason","searchWorker","setSearchWork","termsSignatureName","setTermsSignature","successAppointment","setSuccessAppointment","error","setError","handleSubmit","event","preventDefault","data","first_name","last_name","user_email","to_visit_id","reason_for_visit","terms_signature_name","post","then","response","console","log","status","catch","err","request"],"sources":["C:/GateManagment/frontend/src/components/HomeForm/HomeForm.jsx"],"sourcesContent":["import React, { useState} from 'react';\r\nimport {GateUserInput, SearchableInput, AgreeToTerms} from '../GateUserInput';\r\nimport './HomeForm.css';\r\nimport api from '../../api/api';\r\nimport AppointmentSuccessPop from '../AppointmentSuccessPopUp/AppointmentSuccessPop';\r\nimport ErrorPopUp from '../ErrorPopUp/ErrorPopUp';\r\n\r\nexport default function HomeForm() {\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [userEmail, setUserEmail] = useState('');\r\n  const [userVisitPerson, setUserVisit] = useState('');\r\n  const [userVisitPersonId, setUserVisitId] = useState('');\r\n  const [visitReason, setUserVisitReason] = useState('');\r\n  const [searchWorker, setSearchWork] = useState([]);\r\n  const [termsSignatureName, setTermsSignature] = useState('');\r\n  const [successAppointment, setSuccessAppointment] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const data = {\r\n      first_name: firstName,\r\n      last_name: lastName,\r\n      user_email: userEmail,\r\n      to_visit_id: userVisitPersonId,\r\n      reason_for_visit: visitReason,\r\n      terms_signature_name: termsSignatureName\r\n    };\r\n\r\n    api.post('/visitor_appointments/', data)\r\n    .then((response) => {\r\n      console.log()\r\n      if (response?.status === 201){\r\n        setFirstName('')\r\n        setLastName('')\r\n        setUserEmail('')\r\n        setUserVisit('')\r\n        setUserVisitReason('')\r\n        setTermsSignature('')\r\n        setSuccessAppointment(true)\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      setError(err.request.response)\r\n    });\r\n\r\n};\r\n\r\n  return (\r\n    <div className='appointmentContainer'>\r\n      {error && <ErrorPopUp message={error} setError={setError}/>}\r\n      <form className='appointmentForm' onSubmit={handleSubmit}>\r\n        <div className='appointmentHeader'>\r\n          <h2>Appointment Registration</h2>\r\n        </div>\r\n        <GateUserInput\r\n          label='First Name'\r\n          type='text'\r\n          name='firstName'\r\n          placeholder='John'\r\n          value={firstName}\r\n          setValue={setFirstName}\r\n        />\r\n        <GateUserInput\r\n          label='Last Name'\r\n          type='text'\r\n          name='lastName'\r\n          placeholder='Duke'\r\n          value={lastName}\r\n          setValue={setLastName}\r\n        />\r\n        <GateUserInput\r\n          label='Your Email'\r\n          type='email'\r\n          name='lastName'\r\n          placeholder='johnduke@gmail.com'\r\n          value={userEmail}\r\n          setValue={setUserEmail}\r\n        />\r\n        <SearchableInput \r\n          userVisitPerson={userVisitPerson}\r\n          setUserVisit={setUserVisit}\r\n          setUserVisitId={setUserVisitId} \r\n          options={searchWorker} \r\n          setSearchWork={setSearchWork}\r\n        />\r\n        <GateUserInput\r\n          label='Reason for visit'\r\n          type='text'\r\n          name='reasonForVisit'\r\n          placeholder=''\r\n          value={visitReason}\r\n          setValue={setUserVisitReason}\r\n        />\r\n        <AgreeToTerms\r\n          termsSignatureName={termsSignatureName}\r\n          setTermsSignature={setTermsSignature}\r\n        />\r\n          <input className='formSubmitButton' type='submit' value='Sent Appointment' />\r\n      </form>\r\n      {successAppointment && <AppointmentSuccessPop setSuccessAppointment={setSuccessAppointment}/>}\r\n    </div>\r\n    \r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}