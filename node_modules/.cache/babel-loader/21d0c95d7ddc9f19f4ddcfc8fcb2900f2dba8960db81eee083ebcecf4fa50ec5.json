{"ast":null,"code":"var _jsxFileName = \"C:\\\\GateManagment\\\\frontend\\\\src\\\\components\\\\AdminContent\\\\AdminEditUsers\\\\AdminEditUsers.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BsPlusSquare } from \"react-icons/bs\";\nimport api from '../../../api/api';\nimport './AdminEditUsers.css';\nimport AdminContentSuccessPopUp from '../AdminContentSuccessPopUp/AdminContentSuccessPopUp';\nimport AdminContentSuccessDelete from '../AdminContentSuccessPopUp/AdminContentSuccessDelete';\nimport ErrorPopUp from '../../ErrorPopUp/ErrorPopUp';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminEditUsers(_ref) {\n  _s();\n  let {\n    editUserItem,\n    setEditUserItem,\n    handleUserDelete,\n    deleteUserItem,\n    deleteUserSuccess,\n    setDeleteUserSuccess\n  } = _ref;\n  const [successEdit, setSuccessEdit] = useState({});\n  const [error, setError] = useState(null);\n  const [editSuccess, setEditSuccess] = useState(false);\n  const handleEditDataChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditUserItem({\n      ...editUserItem,\n      [name]: value\n    });\n  };\n  const handleEditSubmit = e => {\n    e.preventDefault();\n    const data = {\n      name: editUserItem.name,\n      email: editUserItem.email,\n      password_hash: editUserItem.password_hash\n    };\n    api.put(`/users/${editUserItem.id}/`, data).then(response => {\n      setSuccessEdit(...response.data);\n      setEditSuccess(true);\n    }).catch(err => {\n      setError(err.response.data.message);\n      console.log(err.response);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"CreateUser EditUser\",\n      onSubmit: e => e.preventDefault(),\n      children: [error && /*#__PURE__*/_jsxDEV(ErrorPopUp, {\n        message: error,\n        setError: setError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Edit User\",\n        children: \"Edit User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Name\",\n        required: true,\n        autoFocus: true,\n        name: \"name\",\n        value: editUserItem.name,\n        onChange: handleEditDataChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Email\",\n        required: true,\n        autoFocus: true,\n        name: \"email\",\n        value: editUserItem.email,\n        onChange: handleEditDataChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        required: true,\n        autoFocus: true,\n        name: \"password_hash\",\n        value: editUserItem.password_hash,\n        onChange: handleEditDataChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"AdminAddUserButton\",\n        type: \"submit\",\n        \"aria-label\": \"Add User\",\n        children: /*#__PURE__*/_jsxDEV(BsPlusSquare, {\n          onClick: handleEditSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), editSuccess && /*#__PURE__*/_jsxDEV(AdminContentSuccessPopUp, {\n      setSuccess: setEditSuccess,\n      editUserItem: editUserItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }, this), deleteUserSuccess && /*#__PURE__*/_jsxDEV(AdminContentSuccessDelete, {\n      setSuccess: setDeleteUserSuccess,\n      deleteUserItem: deleteUserItem,\n      handleUserDelete: handleUserDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 31\n    }, this)]\n  }, void 0, true);\n}\n_s(AdminEditUsers, \"kHPo/SyEV/0Zi0xhviy+GO6KW/8=\");\n_c = AdminEditUsers;\nvar _c;\n$RefreshReg$(_c, \"AdminEditUsers\");","map":{"version":3,"names":["React","useState","BsPlusSquare","api","AdminContentSuccessPopUp","AdminContentSuccessDelete","ErrorPopUp","AdminEditUsers","editUserItem","setEditUserItem","handleUserDelete","deleteUserItem","deleteUserSuccess","setDeleteUserSuccess","successEdit","setSuccessEdit","error","setError","editSuccess","setEditSuccess","handleEditDataChange","e","name","value","target","handleEditSubmit","preventDefault","data","email","password_hash","put","id","then","response","catch","err","message","console","log"],"sources":["C:/GateManagment/frontend/src/components/AdminContent/AdminEditUsers/AdminEditUsers.jsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport {BsPlusSquare} from \"react-icons/bs\";\r\nimport api from '../../../api/api';\r\nimport './AdminEditUsers.css';\r\nimport AdminContentSuccessPopUp from '../AdminContentSuccessPopUp/AdminContentSuccessPopUp';\r\nimport AdminContentSuccessDelete from '../AdminContentSuccessPopUp/AdminContentSuccessDelete';\r\nimport ErrorPopUp from '../../ErrorPopUp/ErrorPopUp';\r\n\r\nexport default function AdminEditUsers({editUserItem, setEditUserItem, handleUserDelete, deleteUserItem, deleteUserSuccess, setDeleteUserSuccess}) {\r\n    const [successEdit, setSuccessEdit] = useState({});\r\n    const [error, setError] = useState(null);\r\n    const [editSuccess, setEditSuccess] = useState(false);\r\n\r\n    const handleEditDataChange = (e) =>{\r\n        const {name, value} = e.target;\r\n        setEditUserItem({...editUserItem, [name]: value});\r\n    }\r\n\r\n    const handleEditSubmit = (e)=>{\r\n        e.preventDefault();\r\n        const data = {\r\n            name: editUserItem.name,\r\n            email: editUserItem.email,\r\n            password_hash: editUserItem.password_hash\r\n        }\r\n        api.put(`/users/${editUserItem.id}/`, data)\r\n        .then((response)=>{\r\n            setSuccessEdit(...response.data);\r\n            setEditSuccess(true);\r\n        })\r\n        .catch((err)=>{\r\n            setError(err.response.data.message);\r\n            console.log(err.response)\r\n        })\r\n    }\r\n  return (\r\n    \r\n    <>\r\n        <form className='CreateUser EditUser' onSubmit={(e)=>e.preventDefault()}>\r\n            {error && <ErrorPopUp message={error} setError={setError} />}\r\n            <label htmlFor='Edit User'>Edit User</label>\r\n            <br />\r\n            <label htmlFor='Name'>Name</label>\r\n            <input\r\n                type='text'\r\n                placeholder='Name'\r\n                required\r\n                autoFocus\r\n                name='name'\r\n                value={editUserItem.name }\r\n                onChange={handleEditDataChange}\r\n            />\r\n            <label htmlFor='Email' >Email</label>\r\n            <input\r\n                type='text'\r\n                placeholder='Email'\r\n                required\r\n                autoFocus\r\n                name='email'\r\n                value={editUserItem.email}\r\n                onChange={handleEditDataChange}\r\n            />\r\n            <label htmlFor='Password'>Password</label>\r\n            <input\r\n                type='password'\r\n                placeholder='Password'\r\n                required\r\n                autoFocus\r\n                name='password_hash'\r\n                value={editUserItem.password_hash}\r\n                onChange={handleEditDataChange}\r\n            />\r\n            <button\r\n                className='AdminAddUserButton'\r\n                type='submit'\r\n                aria-label='Add User'\r\n            >\r\n                <BsPlusSquare onClick={handleEditSubmit}/>\r\n            </button>\r\n        </form>\r\n        {editSuccess && <AdminContentSuccessPopUp \r\n            setSuccess={setEditSuccess}\r\n            editUserItem={editUserItem}\r\n        />}\r\n        {deleteUserSuccess && <AdminContentSuccessDelete \r\n            setSuccess={setDeleteUserSuccess}\r\n            deleteUserItem={deleteUserItem}\r\n            handleUserDelete={handleUserDelete}\r\n        />}\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}