{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport jwtDecode from 'jwt-decode';\nfunction useAuthenticator() {\n  _s();\n  const [authenticated, setAuthenticated] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [userId, setUserId] = useState('');\n  const [userEmail, setUserEmail] = useState('');\n  const [userRole, setUserRole] = useState('');\n  const token = localStorage.getItem('gateManagementApi');\n  useEffect(() => {\n    if (token) {\n      const decode = jwtDecode(token);\n      const currentTime = new Date().getTime() / 1000;\n      if (decode.exp > currentTime) {\n        setAuthenticated(true);\n        setUserName(decode.user_name);\n        setUserId(decode.user_id);\n        setUserEmail(decode.user_email);\n        setUserRole(decode.role);\n      } else {\n        setAuthenticated(false);\n        setUserName(null);\n      }\n    } else {\n      setAuthenticated(false);\n      setUserName('');\n      setUserId('');\n      setUserEmail('');\n      setUserRole('');\n    }\n  }, [authenticated, token, userName, userId, userEmail, userRole]);\n  return {\n    authenticated,\n    userName,\n    userId,\n    userRole,\n    setAuthenticated\n  };\n}\n_s(useAuthenticator, \"Wp5Yx/dqhjutE1P8wWCUQOWGgSk=\");\nexport default useAuthenticator;","map":{"version":3,"names":["useState","useEffect","jwtDecode","useAuthenticator","authenticated","setAuthenticated","userName","setUserName","userId","setUserId","userEmail","setUserEmail","userRole","setUserRole","token","localStorage","getItem","decode","currentTime","Date","getTime","exp","user_name","user_id","user_email","role"],"sources":["C:/GateManagment/frontend/src/CustomHooks/UseAuthenticator/useAuthenticator.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport jwtDecode from 'jwt-decode';\n\nfunction useAuthenticator() {\n  const [authenticated, setAuthenticated] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [userId, setUserId] = useState('');\n  const [userEmail, setUserEmail] = useState('');\n  const [userRole, setUserRole] = useState('');\n  const token = localStorage.getItem('gateManagementApi');\n\n  useEffect(() => {\n    if (token) {\n      const decode = jwtDecode(token);\n      const currentTime = new Date().getTime() / 1000;\n      if (decode.exp > currentTime) {\n        setAuthenticated(true);\n        setUserName(decode.user_name);\n        setUserId(decode.user_id);\n        setUserEmail(decode.user_email);\n        setUserRole(decode.role);\n      } else {\n        setAuthenticated(false);\n        setUserName(null);\n      }\n    } else {\n      setAuthenticated(false);\n      setUserName('');\n      setUserId('');\n      setUserEmail('');\n      setUserRole('');\n    }\n  }, [authenticated, token, userName, userId, userEmail, userRole]);\n\n  return {\n    authenticated, userName, userId, userRole, setAuthenticated,\n  };\n}\nexport default useAuthenticator;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,SAAS,MAAM,YAAY;AAElC,SAASC,gBAAgB,GAAG;EAAA;EAC1B,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMc,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC;EAEvDf,SAAS,CAAC,MAAM;IACd,IAAIa,KAAK,EAAE;MACT,MAAMG,MAAM,GAAGf,SAAS,CAACY,KAAK,CAAC;MAC/B,MAAMI,WAAW,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE,GAAG,IAAI;MAC/C,IAAIH,MAAM,CAACI,GAAG,GAAGH,WAAW,EAAE;QAC5Bb,gBAAgB,CAAC,IAAI,CAAC;QACtBE,WAAW,CAACU,MAAM,CAACK,SAAS,CAAC;QAC7Bb,SAAS,CAACQ,MAAM,CAACM,OAAO,CAAC;QACzBZ,YAAY,CAACM,MAAM,CAACO,UAAU,CAAC;QAC/BX,WAAW,CAACI,MAAM,CAACQ,IAAI,CAAC;MAC1B,CAAC,MAAM;QACLpB,gBAAgB,CAAC,KAAK,CAAC;QACvBE,WAAW,CAAC,IAAI,CAAC;MACnB;IACF,CAAC,MAAM;MACLF,gBAAgB,CAAC,KAAK,CAAC;MACvBE,WAAW,CAAC,EAAE,CAAC;MACfE,SAAS,CAAC,EAAE,CAAC;MACbE,YAAY,CAAC,EAAE,CAAC;MAChBE,WAAW,CAAC,EAAE,CAAC;IACjB;EACF,CAAC,EAAE,CAACT,aAAa,EAAEU,KAAK,EAAER,QAAQ,EAAEE,MAAM,EAAEE,SAAS,EAAEE,QAAQ,CAAC,CAAC;EAEjE,OAAO;IACLR,aAAa;IAAEE,QAAQ;IAAEE,MAAM;IAAEI,QAAQ;IAAEP;EAC7C,CAAC;AACH;AAAC,GAlCQF,gBAAgB;AAmCzB,eAAeA,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}