{"ast":null,"code":"var _jsxFileName = \"C:\\\\GateManagment\\\\frontend\\\\src\\\\components\\\\AdminContent\\\\AdminEditUsers\\\\AdminEditUsers.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BsPlusSquare } from 'react-icons/bs';\nimport api from '../../../api/api';\nimport './AdminEditUsers.css';\nimport AdminContentSuccessPopUp from '../AdminContentSuccessPopUp/AdminContentSuccessPopUp';\nimport AdminContentSuccessDelete from '../AdminContentSuccessPopUp/AdminContentSuccessDelete';\nimport ErrorPopUp from '../../ErrorPopUp/ErrorPopUp';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminEditUsers(_ref) {\n  _s();\n  let {\n    editUserItem,\n    setEditUserItem,\n    handleUserDelete,\n    deleteUserItem,\n    deleteUserSuccess,\n    setDeleteUserSuccess\n  } = _ref;\n  const [successEdit, setSuccessEdit] = useState({});\n  const [error, setError] = useState(null);\n  const [editSuccess, setEditSuccess] = useState(false);\n  const token = localStorage.getItem('gateManagementApi');\n  const handleEditDataChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditUserItem({\n      ...editUserItem,\n      [name]: value\n    });\n  };\n  const handleEditSubmit = e => {\n    e.preventDefault();\n    const data = {\n      name: editUserItem.name,\n      email: editUserItem.email,\n      password_hash: editUserItem.password_hash\n    };\n    api.put(`/users/${editUserItem.id}/`, data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setSuccessEdit(...response.data);\n      setEditSuccess(true);\n    }).catch(err => {\n      setError(err.response.data.message);\n      console.log(err.response);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"CreateUser EditUser\",\n      onSubmit: e => e.preventDefault(),\n      children: [error && /*#__PURE__*/_jsxDEV(ErrorPopUp, {\n        message: error,\n        setError: setError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Edit User\",\n        children: \"Edit User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Name\",\n        required: true,\n        autoFocus: true,\n        name: \"name\",\n        value: editUserItem.name,\n        onChange: handleEditDataChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Email\",\n        required: true,\n        autoFocus: true,\n        name: \"email\",\n        value: editUserItem.email,\n        onChange: handleEditDataChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        required: true,\n        autoFocus: true,\n        name: \"password_hash\",\n        value: editUserItem.password_hash,\n        onChange: handleEditDataChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"AdminAddUserButton\",\n        type: \"submit\",\n        \"aria-label\": \"Add User\",\n        children: /*#__PURE__*/_jsxDEV(BsPlusSquare, {\n          onClick: handleEditSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), editSuccess && /*#__PURE__*/_jsxDEV(AdminContentSuccessPopUp, {\n      setSuccess: setEditSuccess,\n      editUserItem: editUserItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), deleteUserSuccess && /*#__PURE__*/_jsxDEV(AdminContentSuccessDelete, {\n      setSuccess: setDeleteUserSuccess,\n      deleteUserItem: deleteUserItem,\n      handleUserDelete: handleUserDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(AdminEditUsers, \"kHPo/SyEV/0Zi0xhviy+GO6KW/8=\");\n_c = AdminEditUsers;\nvar _c;\n$RefreshReg$(_c, \"AdminEditUsers\");","map":{"version":3,"names":["React","useState","BsPlusSquare","api","AdminContentSuccessPopUp","AdminContentSuccessDelete","ErrorPopUp","AdminEditUsers","editUserItem","setEditUserItem","handleUserDelete","deleteUserItem","deleteUserSuccess","setDeleteUserSuccess","successEdit","setSuccessEdit","error","setError","editSuccess","setEditSuccess","token","localStorage","getItem","handleEditDataChange","e","name","value","target","handleEditSubmit","preventDefault","data","email","password_hash","put","id","headers","Authorization","then","response","catch","err","message","console","log"],"sources":["C:/GateManagment/frontend/src/components/AdminContent/AdminEditUsers/AdminEditUsers.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { BsPlusSquare } from 'react-icons/bs';\nimport api from '../../../api/api';\nimport './AdminEditUsers.css';\nimport AdminContentSuccessPopUp from '../AdminContentSuccessPopUp/AdminContentSuccessPopUp';\nimport AdminContentSuccessDelete from '../AdminContentSuccessPopUp/AdminContentSuccessDelete';\nimport ErrorPopUp from '../../ErrorPopUp/ErrorPopUp';\n\nexport default function AdminEditUsers({\n  editUserItem, setEditUserItem, handleUserDelete, deleteUserItem, deleteUserSuccess, setDeleteUserSuccess,\n}) {\n  const [successEdit, setSuccessEdit] = useState({});\n  const [error, setError] = useState(null);\n  const [editSuccess, setEditSuccess] = useState(false);\n  const token = localStorage.getItem('gateManagementApi');\n\n  const handleEditDataChange = (e) => {\n    const { name, value } = e.target;\n    setEditUserItem({ ...editUserItem, [name]: value });\n  };\n\n  const handleEditSubmit = (e) => {\n    e.preventDefault();\n    const data = {\n      name: editUserItem.name,\n      email: editUserItem.email,\n      password_hash: editUserItem.password_hash,\n    };\n    api.put(\n      `/users/${editUserItem.id}/`,\n      data,\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      },\n    )\n      .then((response) => {\n        setSuccessEdit(...response.data);\n        setEditSuccess(true);\n      })\n      .catch((err) => {\n        setError(err.response.data.message);\n        console.log(err.response);\n      });\n  };\n  return (\n\n    <>\n      <form className=\"CreateUser EditUser\" onSubmit={(e) => e.preventDefault()}>\n        {error && <ErrorPopUp message={error} setError={setError} />}\n        <label htmlFor=\"Edit User\">Edit User</label>\n        <br />\n        <label htmlFor=\"Name\">Name</label>\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          required\n          autoFocus\n          name=\"name\"\n          value={editUserItem.name}\n          onChange={handleEditDataChange}\n        />\n        <label htmlFor=\"Email\">Email</label>\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          required\n          autoFocus\n          name=\"email\"\n          value={editUserItem.email}\n          onChange={handleEditDataChange}\n        />\n        <label htmlFor=\"Password\">Password</label>\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          required\n          autoFocus\n          name=\"password_hash\"\n          value={editUserItem.password_hash}\n          onChange={handleEditDataChange}\n        />\n        <button\n          className=\"AdminAddUserButton\"\n          type=\"submit\"\n          aria-label=\"Add User\"\n        >\n          <BsPlusSquare onClick={handleEditSubmit} />\n        </button>\n      </form>\n      {editSuccess && (\n        <AdminContentSuccessPopUp\n          setSuccess={setEditSuccess}\n          editUserItem={editUserItem}\n        />\n      )}\n      {deleteUserSuccess && (\n        <AdminContentSuccessDelete\n          setSuccess={setDeleteUserSuccess}\n          deleteUserItem={deleteUserItem}\n          handleUserDelete={handleUserDelete}\n        />\n      )}\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}